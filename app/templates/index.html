<!DOCTYPE html>
<html>
<head>
  <title>Too Hot</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" type="text/css" href="./static/assets/css/vendor.css">
  <link rel="stylesheet" type="text/css" href="./static/assets/css/flat-admin.css">

  <!-- Theme -->
  <link rel="stylesheet" type="text/css" href="./static/assets/css/theme/blue-sky.css">
  <link rel="stylesheet" type="text/css" href="./static/assets/css/theme/blue.css">
  <link rel="stylesheet" type="text/css" href="./static/assets/css/theme/red.css">
  <link rel="stylesheet" type="text/css" href="./static/assets/css/theme/yellow.css">

</head>
<body>
  <h1 id="defaulttext" class="centeredText">Walk through the sensor...</h1>
  <h1 id="sickText" class="centeredText" style="display:none">You have a fever!</h1>
  <h1 id="healthyText" class="centeredText" style="display:none">You're good to go!</h1>



<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
    var socket = io.connect('http://' + document.domain + ':' + location.port);
    socket.on('connect', function() {
        console.log("Connected to server socket!");
    });
    socket.on('newtemp', function (msg) {
        console.log(msg);
        if(msg.temp > 100) {
           document.body.style.backgroundColor = "red";
           document.getElementById("defaulttext").style = "display:none";
           document.getElementById("sickText").style = "display:unset";
           document.getElementById("healthyText").style = "display:none";
        } else {
           document.body.style.backgroundColor = "green";
           document.getElementById("defaulttext").style = "display:none";
           document.getElementById("sickText").style = "display:none";
           document.getElementById("healthyText").style = "display:unset";


        }
    });
</script>

</body>
</html>
